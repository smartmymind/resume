<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <div id="d">
    <select id="year-select">
    <option value="2000">2000</option>
    <option value="2001">2001</option>
    <option value="2002">2002</option>
    <option value="2003">2003</option>
    <option value="2004">2004</option>
    <option value="2005">2005</option>
    <option value="2006">2006</option>
    <option value="2007">2007</option>
    <option value="2008">2008</option>
    <option value="2009">2009</option>
    <option value="2010">2010</option>
    <option value="2011">2011</option>
    <option value="2012">2012</option>
    <option value="2013">2013</option>
    <option value="2014">2014</option>
    <option value="2015">2015</option>
    <option value="2016">2016</option>
    <option value="2017">2017</option>
    <option value="2018">2018</option>
    <option value="2019">2019</option>
    <option value="2020">2020</option>
</select>

<select id="month-select">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
</select>

<select id="day-select">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
    <option value="13">13</option>
    <option value="14">14</option>
    <option value="15">15</option>
    <option value="16">16</option>
    <option value="17">17</option>
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="20">20</option>
    <option value="21">21</option>
    <option value="22">22</option>
    <option value="23">23</option>
    <option value="24">24</option>
    <option value="25">25</option>
    <option value="26">26</option>
    <option value="27">27</option>
    <option value="28">28</option>
    <option id="29" value="29">29</option>
    <option id="30" value="30">30</option>
    <option id="31" value="31">31</option>
</select>

<select id="hour-select">
    <option value="0">00</option>
    <option value="1">01</option>
    <option value="2">02</option>
    <option value="3">03</option>
    <option value="4">04</option>
    <option value="5">05</option>
    <option value="6">06</option>
    <option value="7">07</option>
    <option value="8">08</option>
    <option value="9">09</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
    <option value="13">13</option>
    <option value="14">14</option>
    <option value="15">15</option>
    <option value="16">16</option>
    <option value="17">17</option>
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="20">20</option>
    <option value="21">21</option>
    <option value="22">22</option>
    <option value="23">23</option>
</select>

<select id="minite-select">
    <option value="0">0</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
    <option value="13">13</option>
    <option value="14">14</option>
    <option value="15">15</option>
    <option value="16">16</option>
    <option value="17">17</option>
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="20">20</option>
    <option value="21">21</option>
    <option value="22">22</option>
    <option value="23">23</option>
    <option value="24">24</option>
    <option value="25">25</option>
    <option value="26">26</option>
    <option value="27">27</option>
    <option value="28">28</option>
    <option value="29">29</option>
    <option value="30">30</option>
    <option value="31">31</option>
    <option value="32">32</option>
    <option value="33">33</option>
    <option value="34">34</option>
    <option value="35">35</option>
    <option value="36">36</option>
    <option value="37">37</option>
    <option value="38">38</option>
    <option value="39">39</option>
    <option value="40">40</option>
    <option value="41">41</option>
    <option value="42">42</option>
    <option value="43">43</option>
    <option value="44">44</option>
    <option value="45">45</option>
    <option value="46">46</option>
    <option value="47">47</option>
    <option value="48">48</option>
    <option value="49">49</option>
    <option value="50">50</option>
    <option value="51">51</option>
    <option value="52">52</option>
    <option value="53">53</option>
    <option value="54">54</option>
    <option value="55">5</option>
    <option value="56">56</option>
    <option value="57">57</option>
    <option value="58">58</option>
    <option value="59">59</option>
</select>

<select id="second-select">
    <option value="0">0</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
    <option value="13">13</option>
    <option value="14">14</option>
    <option value="15">15</option>
    <option value="16">16</option>
    <option value="17">17</option>
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="20">20</option>
    <option value="21">21</option>
    <option value="22">22</option>
    <option value="23">23</option>
    <option value="24">24</option>
    <option value="25">25</option>
    <option value="26">26</option>
    <option value="27">27</option>
    <option value="28">28</option>
    <option value="29">29</option>
    <option value="30">30</option>
    <option value="31">31</option>
    <option value="32">32</option>
    <option value="33">33</option>
    <option value="34">34</option>
    <option value="35">35</option>
    <option value="36">36</option>
    <option value="37">37</option>
    <option value="38">38</option>
    <option value="39">39</option>
    <option value="40">40</option>
    <option value="41">41</option>
    <option value="42">42</option>
    <option value="43">43</option>
    <option value="44">44</option>
    <option value="45">45</option>
    <option value="46">46</option>
    <option value="47">47</option>
    <option value="48">48</option>
    <option value="49">49</option>
    <option value="50">50</option>
    <option value="51">51</option>
    <option value="52">52</option>
    <option value="53">53</option>
    <option value="54">54</option>
    <option value="55">55</option>
    <option value="56">56</option>
    <option value="57">57</option>
    <option value="58">58</option>
    <option value="59">59</option>
</select>

<p id="result-wrapper">现在距离 2001年1月1日星期X HH:MM:SS 还有 X 天 X 小时 X 分 X 秒</p>
</div>
    <script type="text/javascript">
        var current=new Date();
        var p=document.getElementById("result-wrapper");
        var year=select(document.getElementById("year-select"));
        var month=setWei(select(document.getElementById("month-select")));
        var day=setWei(select(document.getElementById("day-select")));
        var hour=setWei(select(document.getElementById("hour-select")));
        var minite=setWei(select(document.getElementById("minite-select")));
        var second=setWei(select(document.getElementById("second-select")));
        var result=new Date();
        result=setTime(result,year,month,day,hour,minite,second);
        var week=getWeekday(result.getDay());
        document.getElementById("d").onchange=function(){
            year=select(document.getElementById("year-select"));
            month=setWei(select(document.getElementById("month-select")));
            day=setWei(select(document.getElementById("day-select")));
            hour=setWei(select(document.getElementById("hour-select")));
            minite=setWei(select(document.getElementById("minite-select")));
            second=setWei(select(document.getElementById("second-select")));
            result=setTime(result,year,month,day,hour,minite,second);
            week=getWeekday(result.getDay());
            howday(year,month);console.log(month);
            getResult(current,result,month,day,week,hour,minite,second);
        }
        function setTime(result,theYear,theMonth,theDay,theHour,theMinute,theSecond){
            result.setFullYear(theYear,theMonth-1,theDay);
            result.setHours(theHour);
            result.setMinutes(theMinute);
            result.setSeconds(theSecond);
            return result;
        }
        function select(sec){
            var optionlist=sec.getElementsByTagName("option");
            for(let i=0;i<optionlist.length;i++){
                if(optionlist[i].selected){
                    console.log(optionlist[i].value);
                    return optionlist[i].value;
                }
            }
        }
        function howday(year,month){
                if(month==2){
                    if((year%4==0 && year%100!=0) || year%400==0 ){
                        document.getElementById("31").style.display="none";
                        document.getElementById("30").style.display="none";
                    }else{
                        document.getElementById("31").style.display="none";
                        document.getElementById("30").style.display="none";
                        document.getElementById("29").style.display="none";
                    }
                }
                if(month==4 || month==6 ||month==9 ||month==12)
                    document.getElementById("31").style.display="none";
        }

        function getWeekday(day){
            switch(day){
                case 1: return "星期一";break;
                case 2: return "星期二";break;
                case 3: return "星期三";break;
                case 4: return "星期四";break;
                case 5: return "星期五";break;
                case 6: return "星期六";break;
                case 0: return "星期七";break;
            }
        }
        function setWei(num){
            if(num<10){
                return '0'.concat(num);
            }
            else return num;
        }
        function getResult(current,result,month,day,week,hour,minite,second){
            var ct=current.getTime();
            var rt=result.getTime();
            var gap=Math.abs(ct-rt);
            var text="";
            if(ct>rt){
                text="已经过去";
            }else {
                text="还有";
            }
            var tian=Math.floor(gap/(24*60*60*1000));
            var xiaoshi=Math.floor((gap-tian*24*60*60*1000)/(60*60*1000));
            var fen=Math.floor((gap-tian*24*60*60*1000-xiaoshi*60*60*1000)/(60*1000));
            var miao=Math.floor((gap-tian*24*60*60*1000-xiaoshi*60*60*1000-fen*60*1000)/1000);
            p.innerHTML="现在距离"+result.getFullYear()+"年"+month+"月"+day+"日"+week+ hour+":"+minite+":"+second+text+tian+"天"+xiaoshi+"小时"+fen+"分"+miao+"秒";
        }
    </script>
</body>
</html>